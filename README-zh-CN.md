# 数字信号处理 Course Work

[TOC]



## 简介
每帧进行时域与频域处理，帧与帧之间提取时间序列特征。

### 最优结果

| 特征                      | 每秒帧数 | 分类器           | 准确率% |
| ------------------------- | -------- | ---------------- | ------- |
| 时域特征                  | 128      | SVM + ECOC       | 9       |
| 时域特征                  | 128      | 决策树 + ECOC    | 55      |
| 时域特征                  | 128      | SVM ovr          | 41      |
| 时域特征                  | 128      | 决策树多分类     | 59      |
| 14阶梅尔倒谱系数(MFCC-14) | 128      | SVM ovo          | 28      |
| 14阶梅尔倒谱系数(MFCC-14) | 128      | 决策树多分类     | 70      |
| 14阶梅尔倒谱系数(MFCC-14) | 128      | SVM + ECOC       | 14      |
| 14阶梅尔倒谱系数(MFCC-14) | 128      | 决策树 + ECOC    | 78      |
| 14阶梅尔倒谱系数(MFCC-14) | 128      | Ada Boost + ECOC | 80      |
| 14阶梅尔倒谱系数(MFCC-14) | 128      | KNN + ECOC       | 59      |



## 思路

#### 序列总体特征

由于本问题中的语音信号较为简单、特征明显。同一语音信号在时域或长或短、或快或慢，但是其表达的内容是相同的，故考虑使用其**序列总体特征**进行分类。

提取的总体特征有

- 平均值
- 最大值
- 标准差
- 上升部分比例



#### 源信号

对于时域信号，可以选择的有

- 能量
- 短时平均过零率
- 每帧的平均值



特征提取的比较简单，但是我们想仔细分析一下这些特征的内在结构。



## 特征提取

### 数据集

5 位同学每个人录了 20 组数据，每条语音数据约 3 秒，有效部分为 1 秒。将采集到的每类 100 个数据打乱之后划分训练集和测试集

| 训练集 | 验证集 | 测试集 |
| ------ | ------ | ------ |
| 850    | 50     | 100    |

### 预加重、分帧与加窗函数

预加重为了增加高频分辨率。



分帧将数据采用双门限方法剪辑音频数据，取出有效部分

帧率设置为每秒64帧和128帧，方便进行基2快速傅里叶变换

加窗分帧实际上是为了对分帧信号做一个平滑处理。等效于对信号做一个滤波。本实验中对时域信号主要是加了矩形窗和 Hanning 窗。

#### 矩形窗

$$
    w(n) = \left \{ \begin{array}{cc}
        1 & 0 \leq n \leq N - 1 \\
        0 & \textit{others} 
    \end{array} \right.
$$

#### Hanning 窗

$$
w(n) = \left \{ \begin{array}{cc}
     0.5（1- \cos{\frac{2 \pi n}{N -1 }}） & 0 \leq n \leq N -1  \\
     0 & \textit{others}
\end{array}
\right.
$$

## 分类方法

### 决策树

### SVM



## 多分类方法

### Error-Correcting Output Codes （ECOC）

将多分类问题转化为多个二分类问题，使用 $ m $ 个分类器去解决这 $ m $ 个问题，然后将各个分类器的结果编成一组二进制码。通过对比码表来确定最终类别。

**优点**：有些分类器分错也能得到尽可能正确的结果



#### 生成较优的ECOC编码

- $ 3\leq k \leq 7$  Exhausive Codes(EC)方法
- $ 8 \leq k \leq 11$ Column Selection From Exhausive Codes(CSEC)方法
- $k > 11$ 暴力搜索$~ \Longrightarrow~$随机梯度下降方法
- $k>11$ BCE 方法



显然，当分类器个数越多的时候，因为某几个分类器出错导致测试样本错分的概率会下降，结果更好 。采用 决策树 分类器，采样率为 128 帧每秒，仅使用MFCC的序列特征进行分类 ，结论如下

*分类器个数较少(40以内)的时候，决策树多分类方式效果会更好。*

*通过调整分类器的个数，可以把准确率从70调整到80左右*




## 实验参数分析

### 帧率的影响

发现对于每秒 64 帧和每秒 128 帧的情况，每秒 128 帧比每秒 64 帧在测试集上的准确率结果高 3% 左右。更高的帧率对应着更短的时间，因此帧率越高，其帧内部越平稳。

### 分类器个数的影响

使用 ECOC 方法时，分类器个数越多，其表现会越好。基本上呈每增加 20 个二分类器，测试集上的正确率增加 20 个百分点的趋势。

### 特征的再认识

我们想知道提取到的这种时域特征和频域特征都对于哪些数字效果最好，因此对于提取到的高维特征做了一个 KNN 聚类分析，并且输出对每类每点距离最近的 10 个点的标注。如下显示了做聚类分析的结果。

|         | 时域特征 |       | 频域特征 |       |
| ------- | -------- | ----- | -------- | ----- |
| Label 0 | 50/200   | 0.25  | 58/200   | 0.29  |
| Label 1 | 91/200   | 0.455 | 132/200  | 0.66  |
| Label 2 | 89/200   | 0.445 | 116/200  | 0.58  |
| Label 3 | 59/200   | 0.295 | 161/200  | 0.805 |
| Label 4 | 55/200   | 0.275 | 76/200   | 0.38  |
| Label 5 | 87/200   | 0.435 | 89/200   | 0.445 |
| Label 6 | 73/200   | 0.365 | 88/200   | 0.44  |
| Label 7 | 159/200  | 0.795 | 100/200  | 0.5   |
| Label 8 | 94/200   | 0.47  | 119/200  | 0.595 |
| Label 9 | 152/200  | 0.76  | 89/200   | 0.445 |

发现仅使用时域特征，7 和 9 的效果比较好。

#### T-SNE 可视化效果

我们发现使用时域特征进行 T-SNE 可视化，可以明显区分出 7 9 两个数字，与 KNN 结果相符
